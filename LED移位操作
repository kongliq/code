#include <REGX52.H>
#include <INTRINS.H>


void Delay1ms(unsigned int ms)	//延时函数
{
	unsigned char data i, j;
	
	while(ms--)
	{
		_nop_();
		i = 2;
		j = 199;
		do
		{
			while (--j);
		} while (--i);
	}
}

void main()
{
	unsigned char a=0;
	P2=~0x01;
	while(1)
	{
		if(P3_1==0)
		{
			
			Delay1ms(20);
			while(P3_1==0);
			Delay1ms(20);
			a++;
			if(a>=8)  //判断是否超过最大位数
			a=0;
			P2 = ~(0x01<<a);
		}
		if(P3_0==0)
		{
			
			Delay1ms(20);
			while(P3_0==0);
			Delay1ms(20);
			if(a==0)  //判断是否越过0进行分别处理
				a=7;
			else
				a--;
			P2 = ~(0x01<<a);
		}
		
	}
}

